================================================================================
  STRESS TESTS & EDGE CASES
================================================================================

================================================================================
  STRESS TESTS
================================================================================

--- Very High K Test ---
[92mâœ“[0m Very high k (k=950/1000)
  â†’ Shape: (5, 950)

--- K Equals N Test ---
[92mâœ“[0m k equals n_samples
  â†’ Shape: (5, 100)

--- Single Training Sample Test ---
[92mâœ“[0m Single training sample
  â†’ All returned index 0: True

--- Very High Dimensions Test ---
[92mâœ“[0m KNN with 5000D
[92mâœ“[0m FAISS Flat with 5000D

--- Duplicate Features Test ---
[92mâœ“[0m Finds exact duplicates
  â†’ Min distance: 0.0000000000

--- Constant Features Test ---
[92mâœ“[0m Constant features
  â†’ Max distance: 0.0000000000

--- Large Scale Annoy Test ---
[91mâœ—[0m Annoy 50K samples
  â†’ Annoy only returned 1 neighbors out of 10 requested. This usually means the index has connectivity issues. Try: (1) Increasing n_trees (current: 100), (2) Increasing search_k (current: 50000), or (3) Using a different neighbor finder for this data.

================================================================================
  EDGE CASE TESTS
================================================================================

--- Mismatched Dimensions Test ---
[92mâœ“[0m Catches dimension mismatch
  â†’ Properly raised error

--- Negative K Test ---
[92mâœ“[0m Rejects negative k
  â†’ Properly raised error

--- Zero K Test ---
[92mâœ“[0m Rejects k=0
  â†’ Properly raised error

--- NaN in Data Test ---
[92mâœ“[0m Catches NaN
  â†’ Properly raised error

--- Inf in Data Test ---
[92mâœ“[0m Handles Inf
  â†’ Raised error (acceptable): ValueError

--- Empty Query Test ---
[91mâœ—[0m Empty query
  â†’ Found array with 0 sample(s) (shape=(0, 10)) while a minimum of 1 is required by NearestNeighbors.

================================================================================
  WARNING TESTS
================================================================================

--- Low n_probes Warning Test ---
[92mâœ“[0m Low n_probes warning
  â†’ Got 1 warnings

--- Low ef_construction Warning Test ---
[92mâœ“[0m Low ef_construction warning
  â†’ Got 1 warnings

================================================================================
  SUMMARY
================================================================================
[92mâœ“[0m Very high k
[92mâœ“[0m k equals n
[92mâœ“[0m Single training sample
[92mâœ“[0m Very high dimensions
[92mâœ“[0m Duplicate features
[92mâœ“[0m Constant features
[91mâœ—[0m Large scale Annoy
[92mâœ“[0m Mismatched dimensions
[92mâœ“[0m Negative k
[92mâœ“[0m Zero k
[92mâœ“[0m NaN in data
[92mâœ“[0m Inf in data
[91mâœ—[0m Empty query
[92mâœ“[0m Low n_probes warning
[92mâœ“[0m Low ef_construction warning

PASSED: 13/15 tests

âš ï¸  Some tests failed - this may be expected for edge cases
